<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Search Visit - EyeManage</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<link rel="shortcut icon" th:href="@{/img/em_fav.png}"
	type="image/x-icon" />
<script type="text/javascript" th:src="@{/js/jquery3.min.js}"></script>
</head>
<body>

	<div id="wrapper" class="toggled">
		<!-- Navbar Fragment -->
		<div th:replace="layout :: navbar"></div>

		<!-- Contact Us Fragment -->
		<div th:replace="layout :: contactUs"></div>

		<!-- Sidebar Fragment -->
		<div th:replace="layout :: sidebar"></div>

		<!-- Page Content -->
		<div id="page-content-wrapper">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="page-header">
							<h2>Visit Search</h2>
							<hr />
						</div>
						<form action="#" method="post" th:object="${visitPojo}"
							th:action="@{/dashboard/visitSearch}" class="form-horizontal">
							<div class="form-group">
								<label class="control-label col-sm-2"> Search By : </label>
								<div class="col-sm-2">
									<select name="filterByList" id="visitSearchDrop"
										th:field="*{searchFilter}" class="form-control">
										<option value="">Select a Filter</option>
										<option th:value="name">Name</option>
										<option th:value="date">Visit Date</option>
									</select>
								</div>

								<div class="col-sm-3 input-group" id="nameTextDiv">
									<input type="text" class="form-control" id="visitSearchValue"
										th:field="*{searchText}" placeholder="Enter a Text" />
									<div class="input-group-btn">
										<button class="btn btn-default" type="submit">
											<i class="glyphicon glyphicon-search"></i>
										</button>
									</div>
								</div>
								<div class="col-sm-3" id="dateFromDiv">
									<input type="date" class="form-control"
										th:field="*{searchDateFrom}" placeholder="Select From Date"
										th:id="searchDateFrom" />
								</div>
								<div class="col-sm-3 input-group" id="dateToDiv">
									<input type="date" class="form-control"
										th:field="*{searchDateTo}" placeholder="Select To Date"
										th:id="searchDateTo" />
									<div class="input-group-btn">
										<button class="btn btn-default" type="submit">
											<i class="glyphicon glyphicon-search"></i>
										</button>
									</div>
								</div>
								<span class="col-sm-3" id="msg"></span>
							</div>
							<div class="table-responsive"
								th:if="${not #lists.isEmpty(visitList)}">
								<table class="table table-striped" id="visitTable">
									<thead>
										<tr>
											<th>Visit Id</th>
											<th>Patient Id</th>
											<th>Patient Name</th>
											<th>Visit Date</th>
											<th>Follow Up</th>
											<th colspan="1"></th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="visit : ${visitList}" class="clickable-row"
											th:id="'tr' + ${visit.visitId}">
											<td th:text="${visit.visitId}"></td>
											<td th:text="${visit.patient.patientId}"></td>
											<td
												th:text="${visit.patient.firstName} + ' ' + ${visit.patient.lastName}"></td>
											<td th:if="${visit.visitDate != null}" th:text="${#dates.format(visit.visitDate,'dd-MMM-yyyy')}"></td>
											<td th:if="${visit.visitDate == null}" th:text="'Not Available'"></td>
											<td th:if="${visit.followUp != null}" th:text="${#dates.format(visit.followUp,'dd-MMM-yyyy')}"></td>
											<td th:if="${visit.followUp == null}" th:text="'Not Available'"></td>
											<td>
												<button type="button" class="btn" data-toggle="modal"
													th:attr="data-target='#viewModalVisit' + ${visit.visitId}">View</button>

												<!-- Visit View Modal -->
												<div th:attr="id='viewModalVisit' + ${visit.visitId}"
													class="modal fade" role="dialog">
													<div class="modal-dialog modal-lg">

														<!-- Modal content-->
														<div class="modal-content">
															<div class="modal-header">
																<button type="button" class="close" data-dismiss="modal">&times;</button>
																<h4 class="modal-title">Visit Details</h4>
															</div>
															<div class="modal-body">

																<ul class="nav nav-tabs">
																	<li class="active"
																		th:id="'li_glass_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#glass_' + ${visit.visitId}">Glass
																			Prescription</a></li>
																	<li th:id="'li_other_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#other_' + ${visit.visitId}">Other
																			Details</a></li>

																	<li th:id="'li_findings_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#findings_' + ${visit.visitId}">Findings</a></li>
																	<li th:id="'li_drug_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#drug_' + ${visit.visitId}">Drug
																			Prescription</a></li>
																	<li th:id="'li_ascan_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#ascan_' + ${visit.visitId}">A-Scan
																			Report</a></li>
																	<li th:id="'li_discharge_' + ${visit.visitId}"><a
																		data-toggle="tab"
																		th:href="'#discharge_' + ${visit.visitId}">Discharge
																			Summary</a></li>
																</ul>

																<div class="tab-content">
																	<!-- Glass Prescription Tab -->
																	<div th:id="'glass_' + ${visit.visitId}"
																		class="tab-pane fade in active">
																		<div class="form-group">
																			<div class="table-responsive col-sm-10">
																				<table class="table table-striped table-bordered">
																					<thead>
																						<tr>
																							<th colspan="2"></th>
																							<th colspan="4" align="center">Right Eye</th>
																							<th colspan="4" align="center">Left Eye</th>
																						</tr>
																						<tr>
																							<th colspan="2"></th>
																							<th colspan="1">Sph</th>
																							<th colspan="1">Cyl</th>
																							<th colspan="1">Axis</th>
																							<th colspan="1">V.A.</th>
																							<th colspan="1">Sph</th>
																							<th colspan="1">Cyl</th>
																							<th colspan="1">Axis</th>
																							<th colspan="1">V.A.</th>
																						</tr>
																						<tr>
																							<th colspan="2" rowspan="1">Dist.</th>
																							<td colspan="1" th:text="${visit.sphDistRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.cylDistRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.axisDistRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.vaDistRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.sphDistLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.cylDistLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.axisDistLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.vaDistLeft}"></td>
																						</tr>
																						<tr>
																							<th colspan="2" rowspan="1">Near</th>
																							<td colspan="1" th:text="${visit.sphNearRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.cylNearRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.axisNearRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.vaNearRight}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.sphNearLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.cylNearLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.axisNearLeft}"></td>
																							<td colspan="1" rowspan="1"
																								th:text="${visit.vaNearLeft}"></td>
																						</tr>
																					</thead>
																				</table>
																			</div>
																		</div>


																		<div class="form-group">
																			<label id="left-right"
																				class="text-center col-sm-offset-4 col-sm-3">Right</label>
																			<label id="left-right" class="text-center  col-sm-3">Left</label>
																		</div>

																		<!-- Vision Without Glass -->
																		<div class="form-group">
																			<p class="text-left col-sm-offset-1 col-sm-3">Vision
																				Without Glass</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithoutGlassRight == 'other'}"
																					th:text="${visit.visionWithoutGlassRightDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithoutGlassRight != 'other'}"
																					th:text="${visit.visionWithoutGlassRight}"></p>
																			</div>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithoutGlassLeft == 'other'}"
																					th:text="${visit.visionWithoutGlassLeftDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithoutGlassLeft != 'other'}"
																					th:text="${visit.visionWithoutGlassLeft}"></p>
																			</div>
																		</div>

																		<!-- Vision With Glass -->
																		<div class="form-group">
																			<p class="text-left col-sm-offset-1 col-sm-3">Vision
																				With Glass</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithGlassRight == 'other'}"
																					th:text="${visit.visionWithGlassRightDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithGlassRight != 'other'}"
																					th:text="${visit.visionWithGlassRight}"></p>
																			</div>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithGlassLeft == 'other'}"
																					th:text="${visit.visionWithGlassLeftDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.visionWithGlassLeft != 'other'}"
																					th:text="${visit.visionWithGlassLeft}"></p>
																			</div>
																		</div>

																		<!-- Lens -->
																		<div class="form-group">
																			<p class="text-left col-sm-offset-1 col-sm-3">Lens</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.lensRight == 'other'}"
																					th:text="${visit.lensRightDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.lensRight != 'other'}"
																					th:text="${visit.lensRight}"></p>
																			</div>

																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.lensLeft == 'other'}"
																					th:text="${visit.lensLeftDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.lensLeft != 'other'}"
																					th:text="${visit.lensLeft}"></p>
																			</div>
																		</div>

																		<div class="form-group">
																			<p class="text-left col-sm-offset-1 col-sm-3">Remarks</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.remarksRight == 'other'}"
																					th:text="${visit.remarksRightDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.remarksRight != 'other'}"
																					th:text="${visit.remarksRight}"></p>
																			</div>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${ visit.remarksLeft == 'other'}"
																					th:text="${visit.remarksLeftDesc}"></p>
																				<p class="control-label textCenter"
																					th:if="${ visit.remarksLeft != 'other'}"
																					th:text="${visit.remarksLeft}"></p>
																			</div>
																		</div>
																	</div>
																	<!-- Glass Prescription Tab Ends -->

																	<!-- Other Details Tab Starts -->
																	<div th:id="'other_' + ${visit.visitId}"
																		class="tab-pane fade">
																		<div class="form-group">
																			<label id="left-right"
																				class="text-center col-sm-offset-4 col-sm-3">Right</label>
																			<label id="left-right" class="text-center  col-sm-3">Left</label>
																		</div>
																		<div class="panel-group" id="accordion">
																			<div class="panel panel-default">
																				<div class="panel-heading">
																					<h4 class="panel-title">
																						<a data-toggle="collapse" data-parent="#accordion"
																							href="#collapse-basic">Basic Details</a>
																					</h4>
																				</div>
																				<div id="collapse-basic"
																					class="panel-body panel-collapse collapse in">

																					<!-- Cornea -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Cornea</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.corneaRight == 'other'}"
																								th:text="${visit.corneaRightDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.corneaRight != 'other'}"
																								th:text="${visit.corneaRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.corneaLeft == 'other'}"
																								th:text="${visit.corneaLeftDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.corneaLeft != 'other'}"
																								th:text="${visit.corneaLeft}"></p>
																						</div>
																					</div>


																					<!-- Pupil -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Pupil</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.pupilRight == 'other'}"
																								th:text="${visit.pupilRightDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.pupilRight != 'other'}"
																								th:text="${visit.pupilRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.pupilLeft == 'other'}"
																								th:text="${visit.pupilLeftDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.pupilLeft != 'other'}"
																								th:text="${visit.pupilLeft}"></p>
																						</div>
																					</div>

																					<!-- Iris -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Iris</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.irisRight == 'other'}"
																								th:text="${visit.irisRightDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.irisRight != 'other'}"
																								th:text="${visit.irisRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.irisLeft == 'other'}"
																								th:text="${visit.irisLeftDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.irisLeft != 'other'}"
																								th:text="${visit.irisLeft}"></p>
																						</div>
																					</div>

																					<!-- Anterior Chamber -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Anterior
																							Chamber</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.antChamberRight == 'other'}"
																								th:text="${visit.antChamberRightDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.antChamberRight != 'other'}"
																								th:text="${visit.antChamberRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${ visit.antChamberLeft == 'other'}"
																								th:text="${visit.antChamberLeftDesc}"></p>
																							<p class="control-label textCenter"
																								th:if="${ visit.antChamberLeft != 'other'}"
																								th:text="${visit.antChamberLeft}"></p>
																						</div>
																					</div>

																					<!-- Fundus -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Fundus</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.fundusRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.fundusLeft}"></p>
																						</div>
																					</div>

																					<!-- Ocular Surgery -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Ocular
																							Surgery</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.ocularSurgeryRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.ocularSurgeryLeft}"></p>
																						</div>
																					</div>

																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Sac</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.sacPBl}"></p>
																						</div>
																					</div>

																				</div>
																			</div>


																			<div class="panel panel-default">
																				<div class="panel-heading">
																					<h4 class="panel-title">
																						<a data-toggle="collapse" data-parent="#accordion"
																							href="#collapse-lid">Lid Details</a>
																					</h4>
																				</div>
																				<div id="collapse-lid"
																					class="panel-body panel-collapse collapse out">

																					<!-- Swelling -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Swelling</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.swellingRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.swellingLeft}"></p>
																						</div>
																					</div>

																					<!-- Redness -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Redness</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.rednessRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.rednessLeft}"></p>
																						</div>
																					</div>
																				</div>

																			</div>

																			<div class="panel panel-default">
																				<div class="panel-heading">
																					<h4 class="panel-title">
																						<a data-toggle="collapse" data-parent="#accordion"
																							href="#collapse-conjunctiva">Conjunctiva
																							Details</a>
																					</h4>
																				</div>
																				<div id="collapse-conjunctiva"
																					class="panel-body panel-collapse collapse out">

																					<!-- Conjunctival Redness -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Conjunctival
																							Redness</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.conjRednessRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.conjRednessLeft}"></p>
																						</div>
																					</div>

																					<!-- Conjunctival Tear -->
																					<div class="form-group">
																						<p class="text-left col-sm-offset-1 col-sm-3">Conjunctival
																							Tear</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.conjTearRight}"></p>
																						</div>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.conjTearLeft}"></p>
																						</div>
																					</div>
																				</div>

																			</div>

																			<div class="panel panel-default">
																				<div class="panel-heading">
																					<h4 class="panel-title">
																						<a data-toggle="collapse" data-parent="#accordion"
																							href="#collapse-general">General Details</a>
																					</h4>
																				</div>
																				<div id="collapse-general"
																					class="panel-body panel-collapse collapse out">

																					<!-- Blood Pressure -->
																					<div class="form-group">
																						<p class="control-label col-sm-2">Blood
																							Pressure</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:text="${visit.bloodPressureVal1} + ' / ' + ${visit.bloodPressureVal2} + '  mmHg'">
																							</p>
																						</div>

																						<p class="control-label col-sm-2">Urine</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${visit.urine} != null"
																								th:text="${visit.urine}"></p>
																							<p class="control-label textCenter"
																								th:if="${visit.urine} == null"
																								th:text="'Not Available'"></p>
																						</div>
																					</div>

																					<!-- Blood Sugar -->
																					<div class="form-group">
																						<p class="control-label col-sm-2">Blood Sugar
																							(Fasting)</p>
																						<div class="col-sm-1">
																							<p class="control-label textCenter"
																								th:if="${visit.bloodSugarFasting} != null"
																								th:text="${visit.bloodSugarFasting}"></p>
																							<p class="control-label textCenter"
																								th:if="${visit.bloodSugarFasting} == null"
																								th:text="'Not Available'"></p>
																						</div>
																						<p class="control-label col-sm-2 col-sm-offset-2">Blood
																							Sugar (PP)</p>
																						<div class="col-sm-3">
																							<p class="control-label textCenter"
																								th:if="${visit.bloodSugarPp} != null"
																								th:text="${visit.bloodSugarPp}"></p>
																							<p class="control-label textCenter"
																								th:if="${visit.bloodSugarPp} == null"
																								th:text="'Not Available'"></p>
																						</div>
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																	<!-- Other Details Tab Ends -->

																	<!-- Findings Tab -->
																	<div th:id="'findings_' + ${visit.visitId}"
																		class="tab-pane fade">
																		<div class="form-group">
																			<p class="control-label col-sm-2">Anterior
																				Segment Finding :</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.anteriorSeg} != null"
																					th:text="${visit.anteriorSeg}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.anteriorSeg} == null"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">Posterior
																				Segment Finding :</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.posteriorSeg} != null"
																					th:text="${visit.posteriorSeg}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.posteriorSeg} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">IOP Left:</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.iopLeft} != null"
																					th:text="${visit.iopLeft}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.iopLeft} == null"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">IOP Right:</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.iopRight} != null"
																					th:text="${visit.iopRight}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.iopRight} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Complaints:</p>
																			<div class="col-sm-8">
																				<p class="control-label textCenter"
																					th:if="${visit.complaints} != null"
																					th:text="${visit.complaints}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.complaints} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																	</div>
																	<!-- Findings Tab Ends -->

																	<!-- Drug Tab -->
																	<div th:id="'drug_' + ${visit.visitId}"
																		class="tab-pane fade">
																		<div class="form-group">
																			<div class="table-responsive col-sm-12">
																				<table class="table table-striped" th:id="drugTable">
																					<thead>
																						<tr>
																							<th>Type</th>
																							<th>Name</th>
																							<th>Quantity</th>
																							<th>Frequency</th>
																							<th>Duration</th>
																						</tr>
																					</thead>
																					<tbody>
																						<tr th:if="${visit.drugs} != null" th:each="drug : ${visit.drugs}"
																							class="clickable-row">
																							<td th:text="${drug.drugType}"></td>
																							<td th:text="${drug.drugName}"></td>
																							<td th:text="${drug.quantity}"></td>
																							<td th:text="${drug.frequency}"></td>
																							<td
																								th:text="${drug.duration} + ' ' + ${drug.durationType}"></td>
																						</tr>
																						<tr th:if="${visit.drugs} == null" class="clickable-row">
																							<td colspan="5" style="text-align: center" 
																								th:text="'No Records Available'"></td>
																						</tr>
																					</tbody>
																				</table>
																			</div>
																		</div>
																	</div>

																	<!-- Drug Tab Ends -->

																	<!-- A-Scan Tab -->
																	<div th:id="'ascan_' + ${visit.visitId}"
																		class="tab-pane fade">
																		<div class="panel panel-default">
																			<div class="panel-heading">Keratometry</div>
																			<div class="form-group">
																				<div class="panel-body">
																					<p class="control-label col-sm-2">K1</p>
																					<div class="col-sm-3">
																						<p class="control-label textCenter"
																							th:if="${visit.keraK1} != null"
																							th:text="${visit.keraK1}"></p>
																						<p class="control-label textCenter"
																							th:if="${visit.keraK1} == null"
																							th:text="'Not Available'"></p>
																					</div>
																					<p class="control-label col-sm-2">K2</p>
																					<div class="col-sm-3">
																						<p class="control-label textCenter"
																							th:if="${visit.keraK2} != null"
																							th:text="${visit.keraK2}"></p>
																						<p class="control-label textCenter"
																							th:if="${visit.keraK2} == null"
																							th:text="'Not Available'"></p>
																					</div>
																				</div>
																			</div>
																		</div>
																		<div class="panel panel-default">
																			<div class="panel-heading">Axis</div>
																			<div class="form-group">
																				<div class="panel-body">
																					<p class="control-label col-sm-2">Axial Length</p>
																					<div class="col-sm-3">
																						<p class="control-label textCenter"
																							th:if="${visit.axialLength} != null"
																							th:text="${visit.axialLength}"></p>
																						<p class="control-label textCenter"
																							th:if="${visit.axialLength} == null"
																							th:text="'Not Available'"></p>
																					</div>
																					<p class="control-label col-sm-2">IOL Power</p>
																					<div class="col-sm-3">
																						<p class="control-label textCenter"
																							th:if="${visit.iolPower} != null"
																							th:text="${visit.iolPower}"></p>
																						<p class="control-label textCenter"
																							th:if="${visit.iolPower} == null"
																							th:text="'Not Available'"></p>
																					</div>
																				</div>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Surgical Plan</p>
																			<div class="col-sm-5">
																				<p class="control-label textCenter"
																					th:if="${visit.surgicalPlan} != null"
																					th:text="${visit.surgicalPlan}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.surgicalPlan} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																	</div>

																	<!-- A-Scan Tab Ends -->

																	<!-- Discharge Tab -->
																	<div th:id="'discharge_' + ${visit.visitId}"
																		class="tab-pane fade">
																		<div class="form-group">
																			<p class="control-label col-sm-2">Date of
																				Admission</p>
																			<div class="col-sm-3">
																				<p th:if="${visit.admissionDate != null}"
																					class="control-label textCenter"
																					th:text="${#dates.format(visit.admissionDate,'dd-MMM-yyyy')}"></p>
																				<p th:if="${visit.admissionDate == null}"
																					class="control-label textCenter"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">Date of Surgery</p>
																			<div class="col-sm-3">
																				<p th:if="${visit.surgeryDate != null}"
																					class="control-label textCenter"
																					th:text="${#dates.format(visit.surgeryDate,'dd-MMM-yyyy')}"></p>
																				<p th:if="${visit.surgeryDate == null}"
																					class="control-label textCenter"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Date of
																				Discharge</p>
																			<div class="col-sm-3">
																				<p th:if="${visit.dischargeDate != null}"
																					class="control-label textCenter"
																					th:text="${#dates.format(visit.dischargeDate,'dd-MMM-yyyy')}"></p>
																				<p th:if="${visit.dischargeDate == null}"
																					class="control-label textCenter"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">Diagnosis</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.diagnosis} != null"
																					th:text="${visit.diagnosis}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.diagnosis} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Surgical
																				Procedure</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.surgicalProc} != null"
																					th:text="${visit.surgicalProc}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.surgicalProc} == null"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">Investigations</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.investigations} != null"
																					th:text="${visit.investigations}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.investigations} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Anaesthetist</p>
																			<div class="col-sm-3">
																				<p class="control-label textCenter"
																					th:if="${visit.anaesthetist} != null"
																					th:text="${visit.anaesthetist}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.anaesthetist} == null"
																					th:text="'Not Available'"></p>
																			</div>
																			<p class="control-label col-sm-2">Surgeon</p>
																			<div class="col-sm-3 textCenter">
																				<p class="control-label textCenter"
																					th:if="${visit.surgeon} != null"
																					th:text="${visit.surgeon}"></p>
																				<p class="control-label textCenter"
																					th:if="${visit.surgeon} == null"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																		<div class="form-group">
																			<p class="control-label col-sm-2">Follow Up</p>
																			<div class="col-sm-3">
																				<p th:if="${visit.followUp != null}"
																					class="control-label textCenter"
																					th:text="${#dates.format(visit.followUp,'dd-MMM-yyyy')}"></p>
																				<p th:if="${visit.followUp == null}"
																					class="control-label textCenter"
																					th:text="'Not Available'"></p>
																			</div>
																		</div>
																	</div>

																	<!-- Discharge Tab Ends -->
																</div>
															</div>

															<div class="modal-footer">
																<button type="button" class="btn btn-default"
																	data-dismiss="modal">Close</button>
															</div>
														</div>
													</div>
												</div>
											</td>
											<td>
												<button type="button" class="btn btn-primary"
													data-toggle="modal"
													th:attr="data-target='#printReports_' + ${visit.visitId}">
													<i class="glyphicon glyphicon-print"></i> Print
												</button> <!-- Contact Us -->
												<div th:id="'printReports_' + ${visit.visitId}"
													class="modal fade" role="dialog">
													<div class="modal-dialog">
														<!-- Modal content-->
														<div class="modal-content">
															<div class="modal-header">
																<button type="button" class="close" data-dismiss="modal">&times;</button>
																<h4 class="modal-title">Print Reports</h4>
															</div>
															<div class="modal-body">
																<div class="row">
																	<div class="col-sm-4 col-sm-offset-1">
																		<a class="btn btn-primary"
																			th:href="@{'/dashboard/print/DischargeSummary_' + ${visit.visitId} + '.pdf'}"
																			target="_blank"
																			th:id="'printDischarge_' + ${visit.visitId}"> <i
																			class="glyphicon glyphicon-print"></i> Discharge
																			Summary
																		</a>
																	</div>
																	<div class="col-sm-4 col-sm-offset-1">
																		<a class="btn btn-primary"
																			th:href="@{'/dashboard/print/Ascan_' + ${visit.visitId} + '.pdf'}"
																			target="_blank"
																			th:id="'printAscan_' + ${visit.visitId}"> <i
																			class="glyphicon glyphicon-print"></i> A-Scan Report
																		</a>
																	</div>
																</div>
																<br />
																<div class="row">
																	<div class="col-sm-4 col-sm-offset-1">
																		<a class="btn btn-primary"
																			th:href="@{'/dashboard/print/DrugPrescription_' + ${visit.visitId} + '.pdf'}"
																			target="_blank"
																			th:id="'printDrugPrescription_' + ${visit.visitId}">
																			<i class="glyphicon glyphicon-print"></i> Drug
																			Prescription
																		</a>
																	</div>
																	<div class="col-sm-4 col-sm-offset-1">
																		<a class="btn btn-primary"
																			th:href="@{'/dashboard/print/GlassPrescription_' + ${visit.visitId} + '.pdf'}"
																			target="_blank"
																			th:id="'printGlassPrescription_' + ${visit.visitId}">
																			<i class="glyphicon glyphicon-print"></i> Glass
																			Prescription
																		</a>
																	</div>
																</div>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-default"
																	data-dismiss="modal">Close</button>
															</div>
														</div>

													</div>
												</div> <!-- /Contact Us -->
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- /#page-content-wrapper -->
	</div>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>

	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
	<script type="text/javascript" th:src="@{/js/bootstrap-datepicker.js}"></script>
	<script type="text/javascript" th:src="@{/js/main.js}"></script>
	<script type="text/javascript" th:src="@{/js/ajaxCalls.js}"></script>
	<script>
		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
		$(document).ready(function() {
			if ($("#visitSearchDrop").val() != "date") {
				$("#dateFromDiv").hide();
				$("#dateToDiv").hide();
				$("#nameTextDiv").show();
			} else {
				$("#dateFromDiv").show();
				$("#dateToDiv").show();
				$("#nameTextDiv").hide();
			}

			/* $('#searchDateFrom').datepicker({
				format : "dd-M-yy"
			});
			$('#searchDateTo').datepicker({
				format : "dd-M-yy"
			}); */
		});
	</script>
</body>
</html>